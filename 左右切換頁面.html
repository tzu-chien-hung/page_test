<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            margin: 0;
            padding: 0;
        }
        .page_flex {
            display: flex;
            overflow: hidden;
        }

        .slider_arrow {
            height: 400px;
            width: 50px;
            background-color: aqua;
        }
        .slider_all{
            display: flex;
        }
        .box1{

            display: flex;
            justify-content:flex-start;
        }
        .box2{

            display: flex;
            justify-content:flex-end;
                        text-align: center;
        }
    </style>
</head>

<body>
    <div>
        <div class="page_flex">
            
            <div class="slider_main_img">
                <div id="case_slider_all_container" class="slider_all" style="transform: translateX(0%);transition: transform 0.8s ease-in-out 0s;">
                    <div style="width: 100vw; height: 400px; border: 1px solid gray; background-color:blueviolet; text-align: center;" class="slider_img slider_big_img slider_img_main slider_img_2 box2">
                        <div class="slider_arrow slider_arrow_right" id="slider_arrow_right">右邊</div>
                    </div>
                    <div style="width: 100vw; height: 400px; border: 1px solid gray; background-color: antiquewhite; text-align: center;" class="slider_img slider_big_img slider_img_main slider_img_1 box1">
                        <div class="slider_arrow slider_arrow_left" id="slider_arrow_left">左邊</div>
                    </div>

                </div>
            </div>
            
        </div>
    </div>

    <!-- <div class="slider_container">
        <div class="slider_flex">
            <div class="slider_arrow slider_arrow_left" id="slider_arrow_left"></div>
            <div class="slider_main_img">
                <ul id="case_slider_all_container" class="slider_all"
                    style="transform: translateX(-100%);transition: transform 0.8s ease-in-out 0s;">
                    <li class="slider_img slider_big_img slider_img_main slider_img_1 "
                        style="background-image: url('https://www.unisincere.com.tw/api/images/c6f8b9f90de794d968df031a64ada4ac.jpg');">
                    </li>
                    <li class="slider_img slider_big_img slider_img_main slider_img_2"
                        style="background-image: url('https://www.unisincere.com.tw/api/images/22030e0c89aea960e3e07d9a9cc188a8.jpg');">
                    </li>
                    <li class="slider_img slider_big_img slider_img_main slider_img_3"
                        style="background-image: url('https://www.unisincere.com.tw/api/images/cd06ce85617484be28ad9c6639ecb1c6.jpg');">
                    </li>
                    <li class="slider_img slider_big_img slider_img_main slider_img_4"
                        style="background-image: url('https://www.unisincere.com.tw/api/images/be734f86614a5a1088118d5335f9e0ff.jpg');">
                    </li>
                    <li class="slider_img slider_big_img slider_img_main slider_img_5"
                        style="background-image: url('https://www.unisincere.com.tw/api/images/901f89a33fdf0acdff71ae71813a2fbf.jpg');">
                    </li>
                </ul>
            </div>
            <div class="slider_arrow slider_arrow_right" id="slider_arrow_right"></div>
        </div>
    </div> -->
    <script>
        const ul = document.getElementById('case_slider_all_container');
        const li = document.querySelectorAll('.slider_big_img');
        let index = 0;
        let left_index = 1;

        // ================ cloneNode(true)複製(最後一張圖li.length - 1)
        // const li_1 = li[li.length - 1].cloneNode(true);
        // const li_2 = li[0].cloneNode(true);
        // console.log(li_1)

        // ================ 在 第一個參數(Y)的前面 新增一個節點(X) insertBefore(x,y)  
        // ul.insertBefore(li_1, li[0])
        // ul.appendChild(li_2)
        // ================ 自動輪播
        // ================ ˋ${}ˋ 內容會被視為js
        // let carousel = setInterval(function () {
        //     index++;
        //     ul.style.transform = `translateX(${-100 + (-index * 100)}%)`;
        //     // console.log(index % (li.length/2));
        //     if ((index) % (li.length) == 0) {
        //         ul.style.left = left_index * 500 + "%";
        //         left_index++;
        //     }
        // }, 2000);



        // const start = function () {
        //     carousel = setInterval(function () {
        //         index++;
        //         ul.style.transform = `translateX(${-100 + (-index * 100)}%)`;
        //         // console.log(index % (li.length/2));
        //         if ((index) % (li.length) == 0) {
        //             ul.style.left = left_index * 500 + "%";
        //             left_index++;
        //         }
        //     }, 2000);
        // }

        // carousel();

        //左右按鍵切換圖片

        let arrow_left = document.getElementById('slider_arrow_left');
        let arrow_right = document.getElementById('slider_arrow_right');
        // console.log(arrow_left)

        arrow_left.addEventListener('click', function () {
            // clearInterval(carousel);
            index--;
            ul.style.transform = `translateX(${(-index * 50)}%)`;
            if ((index - 4) % (li.length) == 0) {
                ul.style.left = (left_index - 2) * 500 + "%";
                left_index--;
            }
            // console.log(index, left_index, (index - 4) % (li.length))
            // start();

        });

        arrow_right.addEventListener('click', function () {
            // clearInterval(carousel);
            index++;
            ul.style.transform = `translateX(${(-index * 50)}%)`;
            if ((index) % (li.length) == 0) {
                ul.style.left = left_index * 500 + "%";
                left_index++;
            }
            // start();
        });

    </script>

</body>

</html>